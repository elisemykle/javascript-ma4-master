<!DOCTYPE html>
<html>
<head>
    <title>JavaScript - MA04 - Question 2</title>
    <meta charset="utf-8">
    <style>
       .card {
/* Add shadows to create the "card" effect */
  width: 200px;
  height: 350px;
  box-shadow: 0 4px 8px 0 rgba(0,0,0,0.2);
  transition: 0.3s;
}

/* On mouse-over, add a deeper shadow */
.card:hover {
  box-shadow: 0 8px 16px 0 rgba(0,0,0,0.2);
}

/* Add some padding inside the card container */
.container {
  padding: 2px 16px;
}
    </style>
</head>
<body>
<script>

fetch('https://jsonplaceholder.typicode.com/todos')
    .then(result => result.json())
  .then((res) => {
    createCards(res);
  })
.catch(err => console.log(err))

function createCards(result){
var noAvatars = 9; //Using a collection of 9 avatar images (in .jpg format)
	var resLength = result.length;
	var maxLength = 23;//The text on each card should not be too long
	for (var i = 0; i < resLength; i++){
		var divElem = document.createElement("div");
		divElem.class = "card";
		divElem.style.float = "left";
		var imgElem = document.createElement("img");
		var imix = (i % noAvatars) +1;
		//Here you need to put your own image sources.
		imgElem.src = "avatar.png";
		imgElem.style.width = "30%";
		divElem.appendChild(imgElem);
		var divInner = document.createElement("div");
		divInner.class = "container";
		divElem.appendChild(divInner);
		var titleElem = document.createElement("h4");
		divInner.appendChild(titleElem);
		//result[i].title is a long (latin) phrase, so shortening it to 3 words:
		//var resArr = (result[i].title).split(" ");
		//var titleTxt = resArr[0] + " " + resArr[1] + " " + resArr[2];
		//if even three words is too long (more than 23 char.), shortening to 2 words
		//if (titleTxt.length > maxLength) {
		 // titleTxt = resArr[0] + " " + resArr[1];
		//}
		var title = document.createTextNode(result[i].title);
		titleElem.appendChild(title);
		document.body.appendChild(divElem);
	}
 }

</script>
</body>
</html>
